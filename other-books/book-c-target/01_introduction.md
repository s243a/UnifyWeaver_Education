# Chapter 1: Introduction to the C Target

The C target generates native C programs that process JSONL data using the cJSON library. This provides high-performance pipeline processing with minimal runtime dependencies.

## Why C?

- **Performance**: Native compilation, no runtime overhead
- **Portability**: Runs on any system with a C compiler
- **Minimal dependencies**: Only cJSON for JSON handling
- **Memory control**: Direct control over allocation

## Architecture Overview

```
┌─────────────────┐    ┌──────────────┐    ┌─────────────────┐
│ Prolog Predicate│───▶│ c_target.pl  │───▶│ Generated C Code│
└─────────────────┘    └──────────────┘    └─────────────────┘
                                                    │
                                                    ▼
                                           ┌─────────────────┐
                                           │ gcc/clang       │
                                           └─────────────────┘
                                                    │
                                                    ▼
                                           ┌─────────────────┐
                                           │ Native Binary   │
                                           └─────────────────┘
```

## Modes

| Mode | Use Case | Output |
|------|----------|--------|
| Simple | Basic predicates | Hello world program |
| Pipeline | Stream processing | JSONL filter/transform |
| Generator | Multiple outputs | Callback iterator |

## Your First C Program

```prolog
% Load the target
?- use_module('src/unifyweaver/targets/c_target').

% Generate C code
?- compile_predicate_to_c(hello/0, [], Code), 
   write_c_program(Code, 'hello.c').
```

Generated code:
```c
/* Generated by UnifyWeaver C Target */
/* Predicate: hello/0 */

#include <stdio.h>

int main(int argc, char** argv) {
    (void)argc; (void)argv;
    printf("Hello from hello\n");
    return 0;
}
```

Compile and run:
```bash
gcc -o hello hello.c
./hello
# Output: Hello from hello
```

## Next Steps

- [Chapter 2: Pipeline Mode](02_pipeline_mode.md) - Processing JSONL streams
